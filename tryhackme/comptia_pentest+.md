# CompTIA Pentest+

**Planning and Scoping**
- [Pentesting Fundamentals](#pentesting-fundamentals)

**Tools and Code Analysis**
- [Metasploit: Introduction](/tryhackme/complete_beginner_path.md#metasploit-introduction)
- [Wireshark: The Basics](#wireshark-the-basics)
- []()

## Pentesting Fundamentals
- A **pentration test** or **pentest** is an ethical and legal attack on an application to test and analyze its security defences.
- *What makes a pentest legal?*
    - The system owner and pentester form an agreement on the tools and techniques used and allowed systems to be tested on before the pentest begins.
    - The **Rules of Engagement** is a document that decides how the pentest will be carried out. It consists of 3 main sections: 
        | Section | Description 
        | ------- | ----------- 
        | Permission | Give legal permission for pentest
        | Test Scope | Define the systems to be tested on
        | Rules | Define the allowed techniques
- The steps a pentester takes is called the **methodology**. All methodology follow this general theme:
    | Stage | Description
    | ----- | -----------
    | Information Gathering | Collect publicly accessible information about target(s)
    | Enumeration | Discover services running on target
    | Exploitation | Use vulnerabilities discovered on services
    | Privilege Escalation | Expand your access on target
    | Post-exploitation | Attack other targets, find more information about current target, cover tracks, reporting
- There are 3 primary scopes when pentesting:
    | Box   | Description |
    | ---   | ----------- |
    | Black | No knowledge of inner workings
    | Grey  | Limited knowledge
    | White | Full knowledge

## Wireshark: The Basics
- Wireshark is an open-source and cross-platform network packet analyser tool used to sniff and inspect live traffic or inspect packet captures.
- In the packet details pane, Wireshark uses the OSI Model to break down the selected packet.
- "Go --> Go to packet" to navigate to a packet by packet number.
- "Edit --> Find Packet" to find packet by packet content.
- Wireshark has two types of filtering:
    1. Capture: Used to capture packets that satisfy filter
    2. Display: Used to view packets that satisfy filter

## Python for Pentesters
Subdomain enumeration
```python
import requests 
import sys 
sub_list = open("subdomains.txt").read() 
subdoms = sub_list.splitlines()
for sub in subdoms:
    sub_domains = f"http://{sub}.{sys.argv[1]}" 
    try:
        requests.get(sub_domains)
    except requests.ConnectionError: 
        pass
    else:
        print("Valid domain: ",sub_domains)  
```
Directory enumeration
```python
import requests 
import sys 
sub_list = open("wordlist.txt").read() 
directories = sub_list.splitlines()
for dir in directories:
    dir_enum = f"http://{sys.argv[1]}/{dir}.html" 
    r = requests.get(dir_enum)
    if r.status_code==404: 
        pass
    else:
        print("Valid directory:" ,dir_enum)
```
Network scanner 
```python

```